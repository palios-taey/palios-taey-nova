2025-04-23 19:27:46,944 - claude_dc.test.cache - INFO - Starting prompt caching test...
2025-04-23 19:27:46,965 - claude_dc.test.cache - INFO - Created Anthropic client
2025-04-23 19:27:46,965 - claude_dc.test.cache - INFO - Added cache control to system message
2025-04-23 19:27:46,965 - claude_dc.test.cache - INFO - Making first API call (no cache)
2025-04-23 19:27:51,673 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-04-23 19:27:51,676 - claude_dc.test.cache - INFO - First request completed in 4.71 seconds
2025-04-23 19:27:51,676 - claude_dc.test.cache - INFO - Added cache control to follow-up message
2025-04-23 19:27:51,676 - claude_dc.test.cache - INFO - Making second API call (with cache)
2025-04-23 19:27:51,676 - claude_dc.test.cache - WARNING - Beta flag not supported: Messages.create() got an unexpected keyword argument 'beta'
2025-04-23 19:27:56,906 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-04-23 19:27:56,907 - claude_dc.test.cache - INFO - Second request (without beta flag) completed in 5.23 seconds
2025-04-23 19:27:56,907 - claude_dc.test.cache - INFO - Time saved: -0.52 seconds (-11.0%)
2025-04-23 19:27:56,907 - claude_dc.test.cache - WARNING - Could not test with beta flag, but cache control may still be working
